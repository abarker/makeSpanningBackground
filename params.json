{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"MakeSpanningBackground","tagline":"A command-line utility which creates a background wallpaper to span multiple displays/monitors and sets it as the current background.","body":"The program runs on both Linux and Windows versions of Python.  Most of the\r\ntesting has been on one and two monitor systems with Python 2.7 or 3.2, on\r\nUbuntu and Windows 7, but Fedora and Windows XP have also had some testing.\r\nNote that under KDE and Xfce on Linux the generated image will not be\r\nautomatically set to be the wallpaper (with the \"spanned\" mode auto-set);\r\nyou'll have to apply those settings by hand.\r\n\r\nThe dependencies are as follows:\r\n<pre>\r\n   Linux with Python 2.x (at least Python 2.6):\r\n                   Ubuntu                               Fedora\r\n      numpy       sudo apt-get install python-numpy    yum install numpy\r\n      scipy       sudo apt-get install python-scipy    yum install scipy\r\n      PIL         sudo apt-get install python-imaging  yum install python-imaging\r\n      xrandr      pre-installed for most distributions \r\n      gsettings   pre-installed for most distributions\r\n\r\n   Linux with Python 3.x:\r\n      Same as for Python 2.x.  For numpy and scipy just apt-get the version\r\n      that starts with python3, e.g., python3-numpy.  The PIL library\r\n      has not yet been officially ported (as of Nov, 2012), so you would \r\n      need to get one of the unofficial 3.x versions of PIL working.\r\n      One version of the ported source code (needs compilation) is at \r\n      http://www.lfd.uci.edu/~gohlke/pythonlibs/#pil\r\n      http://mail.python.org/pipermail/image-sig/2011-August/006843.html\r\n\r\n   Windows with Python 2.x or 3.x (at least Python 2.6):\r\n      Needs numpy, scipy, and PIL.  Windows users who want binaries and are not\r\n      using a package like Python(x,y) where the dependencies are pre-installed\r\n      might try the following (get the version to match the installed Python):\r\n\r\n      http://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy\r\n      http://www.lfd.uci.edu/~gohlke/pythonlibs/#scipy\r\n      http://www.lfd.uci.edu/~gohlke/pythonlibs/#pil\r\n\r\n      Note that on Windows the background mode must be explicitly set to \r\n      \"tiled\" in the standard wallpaper-selection dialog window.  Also,\r\n      on XP you may need to always choose the .bmp format for the saved\r\n      image files.\r\n\r\n   Windows Cygwin Python\r\n      The dependencies are the same as in Windows.  Cygwin comes with \r\n      packages for python-argparse, python-imaging, and python-numpy.\r\n      Unfortunately, scipy is apparently difficult to install in Cygwin.\r\n</pre>\r\nRun \r\n`python makeSpanningBackground --help`\r\nfor the documentation.  The output of that command follows.\r\n\r\n<pre>\r\nUsage: makeSpanningBackground [-h] -o OUTFILE [-v] [-1]\r\n                              [-f FITIMAGE FITIMAGE FITIMAGE]\r\n                              [-p PERCENTERROR] [-z ZOOMSPLINE] [-s]\r\n                              [-c COLORFILL COLORFILL COLORFILL] [-R] [-d]\r\n                              [--noclobber] [-r RESLIST [RESLIST ...]]\r\n                              [-w WINDOWS WINDOWS] [-x]\r\n                              imageFilesOrDirs [imageFilesOrDirs ...]\r\n\r\nMake a single, combined background image file from separate background image\r\nfiles, one for each display. The default is to get information from the system\r\nabout the display resolutions, and to randomly choose an image for each\r\ndisplay from the image files and image directories provided. \r\n\r\nThe positional arguments are image files and directories containing\r\nimage files. The required flag '--outfile' or '-o' specifies the\r\npathname of the file where the combined image file will be written (or\r\nsilently overwritten). An example: \r\n\r\n   python makeSpanningBackground ~/bgDir photo.jpg -o combo.bmp \r\n\r\nOn Linux the initial \"python\" above can be omitted if the Python\r\nversion at \"/usr/bin/python\" is the correct one. The file (or a script\r\ncalling it) can also be placed somewhere in the PATH to avoid having\r\nto supply a path. \r\n\r\nTo use this kind of combined background image in Linux the background\r\nmode should be set to 'spanned'; the program will attempt to set this\r\nautomatically. On Windows the background mode should be 'tiled', but\r\nthe mode must be explicitly set by the user (usually from the system's\r\nbackground-setting window). In Windows XP the .bmp format should be\r\nchosen for the output file (simply by using that suffix on the output\r\nfilename). Also, backgrounds set in Windows XP do not persist between\r\nlogins and must be reset. \r\n\r\nNote that this program can be set as a startup program to change the\r\nbackground wallpaper on logins. To regularly change the wallpaper it\r\ncan be scheduled to run as a cron job or scheduled task. A simpler\r\ncommand in Linux to change the background every hour (3600 secs) would\r\nbe something like: \r\n\r\n   while true; do nice makeSpanningBackground ~/Pics -o combo.bmp; sleep\r\n3600; done & \r\n\r\nOn Linux it is useful to create a simple shell-script wrapper to call\r\nthe program with the \"usual\" command-line arguments.\r\n\r\n\r\nPositional arguments:\r\n\r\n  imageFilesOrDirs      A whitespace-separated list of the pathnames of image\r\n                        files and/or directories containing image files. Use\r\n                        quotes around any file or directory name which\r\n                        contains a space. Files on the command line and in\r\n                        directories will be silently ignored unless they have\r\n                        a suffix in the list ['.BMP', '.DCX', '.DIB', '.EPS',\r\n                        '.GIF', '.IM', '.JPE', '.JPEG', '.JPG', '.PBM',\r\n                        '.PCD', '.PCX', '.PDF', '.PGM', '.PNG', '.PPM', '.PS',\r\n                        '.PSD', '.TIF', '.TIFF', '.XBM', '.XPM', '.bmp',\r\n                        '.dcx', '.dib', '.eps', '.gif', '.im', '.jpe',\r\n                        '.jpeg', '.jpg', '.pbm', '.pcd', '.pcx', '.pdf',\r\n                        '.pgm', '.png', '.ppm', '.ps', '.psd', '.tif',\r\n                        '.tiff', '.xbm', '.xpm'].\r\n\r\n\r\nOptional arguments:\r\n\r\n  -h, --help            Show this help message and exit.\r\n\r\n  -o OUTFILE, --outfile OUTFILE\r\n                        The pathname of the file to use for writing the output\r\n                        file. This flag is required. Any existing file by that\r\n                        name will be silently overwritten. The file can have\r\n                        any suffix that ndimage (via PIL) can handle, and it\r\n                        will be written in that format, but not all formats\r\n                        will necessarily be settable as background images. The\r\n                        usual choice is Jpeg, with the '.jpg' suffix.\r\n\r\n  -v, --verbose         Print more information about the program's actions and\r\n                        progress.\r\n\r\n  -1, --oneimage        Use a single background image, scaled to stretch over\r\n                        all the displays. This is currently based on the\r\n                        screen resolutions, not the physical sizes of the\r\n                        monitors (dpi).\r\n\r\n  -f FITIMAGE FITIMAGE FITIMAGE, --fitimage FITIMAGE FITIMAGE FITIMAGE\r\n                        If this option is set then images are scaled to fully\r\n                        fit into the corresponding display. The three\r\n                        arguments are RGB byte values specifying the color of\r\n                        any region not covered by an image. Use '-f 0 0 0' for\r\n                        black. The default program behavior without this\r\n                        switch is to use the minimum scaling to completely\r\n                        fill the display while preserving the aspect ratio.\r\n\r\n  -p PERCENTERROR, --percenterror PERCENTERROR\r\n                        The percentage of an image's area which is allowed to\r\n                        be cropped-out when scaling it to fit a display\r\n                        resolution. In fitimage mode it is the percent of non-\r\n                        image in the display area. In oneimage mode it is the\r\n                        percent of the image that does not fall onto any\r\n                        display. Set this option to zero for exact fit only.\r\n                        The program will exit with an error message if no\r\n                        suitable images can be found.\r\n\r\n  -z ZOOMSPLINE, --zoomspline ZOOMSPLINE\r\n                        Set the order of the spline used by ndimage to resize\r\n                        (zoom) images. The value can be from 0 to 5, with 3\r\n                        the default. Lower orders are faster, higher orders\r\n                        have better quality. (Also, for higher-quality images:\r\n                        output files in .bmp format are larger but tend to\r\n                        look better.)\r\n\r\n  -s, --sequential      Process images sequentially as listed in the\r\n                        positional arguments, with the files in any image\r\n                        directories forming alphabetical sublists. This can be\r\n                        used to force specific images to appear on specific\r\n                        displays. On Linux the ordering of the displays is the\r\n                        same as in xrandr. If you are unsure about the\r\n                        ordering, try some images and see where they end up.\r\n                        If display resolutions and offsets are explicitly set\r\n                        with '--reslist' and '--sequential' is set then the\r\n                        image files will corresponding one to one with the\r\n                        list of resolution specifiers.\r\n\r\n  -c COLORFILL COLORFILL COLORFILL, --colorfill COLORFILL COLORFILL COLORFILL\r\n                        The three arguments are RGB byte values specifying the\r\n                        color of any region in the large, combined image (a\r\n                        bounding-box on the displays) which is not covered by\r\n                        a display. Use '-c 0 0 0' for black.\r\n\r\n  -R, --recursive       Recursively search any supplied image directories for\r\n                        image files.\r\n\r\n  -d, --dontapply       Do not attempt to apply the created image as the\r\n                        working background image. The program will simply exit\r\n                        after writing the image file.\r\n\r\n  --noclobber           Never overwrite an existing file as the output\r\n                        file.\r\n\r\n  -r RESLIST [RESLIST ...], --reslist RESLIST [RESLIST ...]\r\n                        Set the resolutions and offsets to use. No system\r\n                        lookup will be attempted. This must be a space-\r\n                        separated list of strings of the form\r\n                        x*y+xOffset+yOffset (like in the output of xrandr on\r\n                        Linux), where xOffset and yOffset give the top-left\r\n                        position of the display and x and y are the display\r\n                        sizes (resolution). Like in X11, (0,0) is assumed to\r\n                        be at the top left of a bounding box on all the\r\n                        displays. For a Windows machine the top left of the\r\n                        primary display will also need to be defined, using\r\n                        the '--windows' option described below.\r\n\r\n  -w WINDOWS WINDOWS, --windows WINDOWS WINDOWS\r\n                        This option should only be necessary on a Windows\r\n                        machine when using the '--reslist' option. The two\r\n                        arguments x and y (in that order) should be set to the\r\n                        top left position of the primary display. This is\r\n                        necessary because, unlike X11, Windows assumes (0,0)\r\n                        is at the top left of the primary display. Other\r\n                        displays can then have negative locations. This\r\n                        program translates Windows positions so that all\r\n                        addresses are positive, with (0,0) at the top left of\r\n                        all the displays (which is how positions should be\r\n                        entered for the '--reslist' option). The program then\r\n                        corrects for this translation in a final step, which\r\n                        wraps the image into tiled mode relative to the\r\n                        primary display. This requires knowing the top left\r\n                        position of the primary display.\r\n\r\n  -x, --x11             Create an X11 type image even if Windows is detected\r\n                        as the OS. When this option is selected no final\r\n                        \"modular wrap\" will be applied to correct for the\r\n                        position of the primary display.\r\n\r\nThe makeSpanningBackground program is Copyright (c) 2012 by Allen Barker.\r\nReleased under the permissive MIT license.\r\n</pre>\r\n","google":""}